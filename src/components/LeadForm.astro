<section 
id="case-evaluation"
class="bg-gray-50 py-14">
  <div class="max-w-4xl mx-auto px-4">

    <!-- H2 -->
    <h2 class="text-2xl md:text-3xl font-bold mb-4 text-center">
      Car Accident Case Evaluation
    </h2>

    <!-- Description -->
    <p class="text-center text-gray-700 mb-8">
      Fill out the form below and an attorney may contact you to discuss your accident
      and provide a free case evaluation.
    </p>

    <form
      action="https://formspree.io/f/mlgdyykv"
      method="POST"
      onsubmit="return validateForm(this)"
      class="bg-white shadow-sm rounded-lg p-6 space-y-5"
    >

      <p class="text-sm text-gray-600">
        All fields are required.
      </p>

      <input
        type="text"
        name="full_name"
        placeholder="Full Name"
        required
        class="w-full border border-gray-300 rounded px-4 py-3"
      />

      <input
        type="email"
        name="email"
        placeholder="Email Address"
        required
        class="w-full border border-gray-300 rounded px-4 py-3"
      />

      <!-- Phone -->
      <input
  type="tel"
  name="phone"
  placeholder="Phone (111) 111-1111"
  required
  maxlength="14"
  class="w-full border border-gray-300 rounded px-4 py-3"
  oninput="formatPhone(this)"
/>


      <!-- Zip -->
      <input
  type="text"
  name="zip"
  placeholder="Zip Code"
  required
  maxlength="5"
  inputmode="numeric"
  class="w-full border border-gray-300 rounded px-4 py-3"
  oninput="formatZip(this)"
/>


      <!-- Date -->
      <input
        type="text"
        name="date_of_accident"
        placeholder="Date of Accident (DD/MM/YYYY)"
        required
        maxlength="10"
        class="w-full border border-gray-300 rounded px-4 py-3"
        oninput="formatDate(this)"
      />

      <input
        type="text"
        name="injury_type"
        placeholder="Injury Type"
        required
        class="w-full border border-gray-300 rounded px-4 py-3"
      />

      <!-- Radio -->
      <fieldset>
        <legend class="text-sm font-medium text-gray-700 mb-2">
          Were you at fault for the accident?
        </legend>
        <div class="flex gap-6">
          <label class="flex items-center gap-2">
            <input type="radio" name="fault" value="Yes" required />
            Yes
          </label>
          <label class="flex items-center gap-2">
            <input type="radio" name="fault" value="No" />
            No
          </label>
          <label class="flex items-center gap-2">
            <input type="radio" name="fault" value="Not Sure" />
            Not Sure
          </label>
        </div>
      </fieldset>

      <textarea
        name="description"
        placeholder="Describe your accident in detail"
        rows="5"
        required
        class="w-full border border-gray-300 rounded px-4 py-3"
      ></textarea>

      <div class="flex justify-center mt-6">
  <button type="submit" class="btn-primary">
    Submit Case
  </button>
</div>

    </form>
    <div class="mt-10">

  <p class="text-lg text-gray-700 mb-4">
    Many personal injury attorneys who handle car accident claims work on a contingency fee basis, meaning legal fees are typically paid only if compensation is recovered. This arrangement allows accident victims to seek legal guidance without upfront costs.
  </p>

  <p class="text-lg text-gray-700">
    The time following a car wreck is critical for building a strong accident claim. Evidence from the accident scene must be preserved, witness statements documented, and medical treatment properly recorded. An attorney handling car accident claims understands these time-sensitive requirements and may begin investigating the accident to help establish liability and document damages while you focus on recovery.
  </p>

</div>
  </div>
</section>

<script is:inline>
  function formatPhone(input) {
    let digits = input.value.replace(/\D/g, "").slice(0, 10);
    let formatted = "";

    if (digits.length > 0) {
      formatted = "(" + digits.substring(0, 3);
    }
    if (digits.length >= 4) {
      formatted += ") " + digits.substring(3, 6);
    }
    if (digits.length >= 7) {
      formatted += "-" + digits.substring(6, 10);
    }

    input.value = formatted;
  }

  function formatZip(input) {
    input.value = input.value.replace(/\D/g, "").slice(0, 5);
  }

  function validateForm(form) {
    const phone = form.phone.value.replace(/\D/g, "");
    const zip = form.zip.value.replace(/\D/g, "");

    if (phone.length !== 10) {
      alert("Please enter a valid 10-digit phone number.");
      return false;
    }

    if (zip.length !== 5) {
      alert("Please enter a valid 5-digit ZIP code.");
      return false;
    }

    return true;
  }

  function formatDate(input) {
    let digits = input.value.replace(/\D/g, "").slice(0, 8);

    let day = digits.substring(0, 2);
    let month = digits.substring(2, 4);
    let year = digits.substring(4, 8);

    let formatted = day;

    if (digits.length >= 3) {
      formatted += "/" + month;
    }
    if (digits.length >= 5) {
      formatted += "/" + year;
    }

    input.value = formatted;
  }
</script>
